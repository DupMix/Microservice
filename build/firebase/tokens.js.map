{"version":3,"sources":["../../src/firebase/tokens.js"],"names":["saveTokensToFirebase","tokens","refresh_token","tokenUpdate","admin","database","ref","set","console","log","error","getTokensFromFirebase","child","get","snapshot","exists","val","access_token"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;AACA;AAEO,IAAMA,oBAAoB;AAAA,qEAAG,iBAAOC,MAAP,EAAeC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5BC,YAAAA,WAD4B,qBACTF,MADS;AAElC,gBAAIC,aAAJ,EAAmBC,WAAW,CAACD,aAAZ,GAA4BA,aAA5B;AAFe;AAAA;AAAA,mBAI1BE,kBAAMC,QAAN,GAAiBC,GAAjB,CAAqB,eAArB,EAAsCC,GAAtC,mBAA+CJ,WAA/C,EAJ0B;;AAAA;AAKhCK,YAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AALgC;AAAA;;AAAA;AAAA;AAAA;AAOhCD,YAAAA,OAAO,CAACE,KAAR,CAAc,kCAAd;;AAPgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAApBV,oBAAoB;AAAA;AAAA;AAAA,GAA1B;;;;AAWA,IAAMW,qBAAqB;AAAA,sEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEVP,kBAAMC,QAAN,GAAiBC,GAAjB,GAAuBM,KAAvB,CAA6B,eAA7B,EAA8CC,GAA9C,EAFU;;AAAA;AAE3BC,YAAAA,QAF2B;;AAAA,iBAG7BA,QAAQ,CAACC,MAAT,EAH6B;AAAA;AAAA;AAAA;;AAAA,4BAISD,QAAQ,CAACE,GAAT,EAJT,EAIvBC,YAJuB,iBAIvBA,YAJuB,EAITf,aAJS,iBAITA,aAJS;AAAA,8CAKxB;AAAEe,cAAAA,YAAY,EAAZA,YAAF;AAAgBf,cAAAA,aAAa,EAAbA;AAAhB,aALwB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQjCM,YAAAA,OAAO,CAACE,KAAR;;AARiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAArBC,qBAAqB;AAAA;AAAA;AAAA,GAA3B","sourcesContent":["import admin from './admin'\n// import { updateLocalTokens } from '../server'\n\nexport const saveTokensToFirebase = async (tokens, refresh_token) => {\n  const tokenUpdate = { ...tokens }\n  if (refresh_token) tokenUpdate.refresh_token = refresh_token\n  try {\n    await admin.database().ref('mixdup_tokens').set({ ...tokenUpdate })\n    console.log('tokens saved to database')\n  } catch (error) {\n    console.error('error saving tokens to database:', error)\n  }\n}\n\nexport const getTokensFromFirebase = async () => {\n  try {\n    const snapshot = await admin.database().ref().child('mixdup_tokens').get()\n    if (snapshot.exists()) {\n      const { access_token, refresh_token } = snapshot.val()\n      return { access_token, refresh_token }\n    }\n  } catch (error) {\n    console.error(error)\n  }\n}"],"file":"tokens.js"}